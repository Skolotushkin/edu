# Глава 6: Двоичная и десятичная дробь

## Двоичный и десятичный формат

### 1. Что вы узнаете из этой главы?
- Разница между десятичной и двоичной системами счисления.
- Как компьютеры хранят данные.
- В чем разница между 32-битными и 64-битными системами?

### 1.1 Рассматриваемые технические концепции
- Двоичный
- Биты, байты
- Десятичный
- Кодирование, кодировщик
- БАРАН

### 2. Введение: цифры, числа и количество
Давайте определимся с некоторыми важными словами:

- **Цифра**: символ или группа символов, обозначающих число.
- **Число**: представляет собой количество, то, что мы можем сосчитать.
- **Числительное**: представление числа.
- **Система нумерации**: набор правил, которые позволяют нам считать вещи и представлять количества.

Каждый день мы манипулируем числами, представленными десятичной системой: 10.254, 125, 2020, 31 и т.д.

Но десятичная система не единственная и использовалась не всегда.

Мы можем представить числа с помощью других систем нумерации.

Возьмем в качестве примера количество "сто двадцать три":

- "123" обозначает эту величину в десятичной системе.
- "1111011" обозначает эту величину в двоичной системе.
- "7B" обозначает эту величину в шестнадцатеричной системе.
- "173" обозначает эту величину в восьмеричной системе.

Одна и та же величина, одна и та же лежащая в основе реальность может быть выражена в различных формах.

Почему это важно понимать? Потому что компьютеры не будут хранить данные с помощью десятичной системы. На физическом уровне информация хранится с помощью нулей и единиц.

В этой главе будет подробно описано, как работают десятичная система и двоичная система.

### 3. Этимология и символы
- **Десятичная дробь** происходит от латинского слова "Decimus", что означает "десятый".
- **Бинарность** происходит от латинского "bini", что означает "два вместе".

Этимология этих двух слов дает нам подсказку о том, как устроены эти системы:

- В двоичной системе используются два символа: 0 и 1.
- Десятичная система использует десять символов: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9.

Данные, записанные с помощью двоичной системы, будут записаны с использованием "0" и "1". Например, 101010 записывается с использованием системы двоичного кодирования.

Данные, записанные по десятичной системе, будут записаны с использованием 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. Например, 42 записывается с использованием десятичной системы. Число 10 может быть закодировано с помощью двоичной или десятичной системы (и, таким образом, оно не будет представлять одну и ту же базовую величину).

× Бумажное и цифровое издание этой книги доступны [здесь](#).
Я также снял видеокурс по созданию реального проекта с помощью Go.

### 4. Десятичная система
Давайте посмотрим на число, записанное по десятичной системе:

**123**

Это число составляет сто двадцать три. Это число состоит из "цифр". Первая цифра обозначает количество сотен. Вторая цифра – это количество десятков. Последняя цифра – это количество единиц. Десятичная система является позиционной. Это означает, что вклад цифры в число зависит от положения цифры в номере.

Десятичная система является позиционной.

Давайте сделаем шаг дальше. Мы можем записать число сто с числом десять:

**100** = **10** × **10**

Мы можем использовать степени десяти:

**10** × **10** = **10²**

**10²** является эквивалентом **10** × **10**. Мы говорим, что **10** является основанием и **2** — это степень. Когда мы читаем это, мы говорим, что десять возведено в степень 2. Следуя той же логике, мы можем записать:

**10** = **10¹**

И:

**1** = **10⁰**

Последнее может показаться странным. Это математическое правило: любое ненулевое число, возведенное в 0, равно 1.

Имея это в виду, мы можем разложить число **123** со степенями десяти:

**123** = **1** × **10²** + **2** × **10¹** + **3** × **10⁰**

Если вы читали **1** × **10²** + **2** × **10¹** + **3** × **10⁰** слева направо, можно заметить, что степень 10 уменьшается одна за другой.

Эта мощность часто соответствует положению цифры при записи номера.

- Цифра "1" находится в позиции 2 (**1** × **10²**).
- Цифра "2" находится в позиции 1 (**2** × **10¹**).
- Цифра "3" находится в позиции 0 (**3** × **10⁰**).

То, как я подсчитал позиции, может вас удивить. Вы ожидали что-то вроде этого:

- Цифра "1" находится в позиции 3.
- Цифра "2" находится в позиции 2.
- Цифра "3" находится в позиции 1.

Это совершенно верно, если вы начинаете отсчет с 1, но мы начинаем отсчет с нуля. Запомните эту конвенцию, потому что она поможет вам позже!

Связь между десятичными цифрами и степенями десяти:

Для заданного числа:

- цифра₂ × 10²
- цифра₁ × 10¹
- цифра₀ × 10⁰

Соответствующее число (количество) равно:

- цифра₂ × 10² + цифра₁ × 10¹ + цифра₀ × 10⁰

Конечно, это отношение справедливо для чисел с большим (и меньшим) числом цифр!

#### 4.1 Дробные числа
Мы видели, как работает система для круглых величин; а как насчет дробных чисел (чисел с "десятичным разделителем", типа **123.14**)?

Существует еще связь со степенью десятков.

**123.45** = **1** × **10²** + **2** × **10¹** + **3** × **10⁰** + **4** × **10⁻¹** + **5** × **10⁻²**

Это имеет смысл, потому что:

**10⁻¹** = **0.1**

Так **4** × **10⁻¹** = **0.4**

И **10⁻²** = **0.01**

Так **5** × **10⁻²** = **0.05**

### 5. Двоичная система
Число, записанное в двоичном виде, состоит из нулей и единиц. Двоичная система, как и десятичная система, является позиционной системой счисления. Это означает, что каждая цифра имеет значение, которое зависит от ее положения. Это система с основанием два (десятичная система — по основанию 10).

Давайте посмотрим на двоичное число:

**10₂**

Обратите внимание, что я добавил к числу подстрочный индекс "двоичный", потому что это число также существует в десятичной системе. Десятичное число 10 НЕ равно двоичному числу 10. Он не выражает ту же величину.

**10₂** — число, состоящее из двух двоичных цифр. Термин "binary digit" имеет широко используемую аббревиатуру: bit. Мы можем получить десятичный эквивалент этого числа, используя степени двойки:

**10₂** = (**1** × **2¹** + **0** × **2⁰**)₁₀

**10₂** = (**1** × **2**)₁₀

**10₂** = **2₁₀**

Двоичное число **10₂** представляет собой ту же величину, что и **2₁₀**. Оно состоит из двух битов. Давайте рассмотрим другой пример.

**10001₂**

Мы найдем его десятичное представление. Берем каждую цифру; умножаем её на **2ˣ**, где **ˣ** — позиция цифры в двоичном числе.

Двоичное преобразование в десятичное:

- **1** × **2⁴** + **0** × **2³** + **0** × **2²** + **0** × **2¹** + **1** × **2⁰**

**10001₂** = **1** × **2⁴** + **1** × **2⁰** = **16** + **1** = **17₁₀**

Кстати, есть известный анекдот, который я услышал как-то от коллеги по этому поводу: "В мире есть десять типов людей, которые понимают бинарность и другие" :)

### 6. Емкость хранилища
#### 6.1 Емкость памяти 2 бита
Какое максимальное десятичное число мы можем хранить в двухзначном двоичном числе? Вот список двоичных чисел, которые состоят из 2 цифр:

- **00₂** = (**0** × **2¹** + **0** × **2⁰**)₁₀ = **0₁₀**
- **01₂** = (**0** × **2¹** + **1** × **2⁰**)₁₀ = **1₁₀**
- **10₂** = (**1** × **2¹** + **0** × **2⁰**)₁₀ = **2₁₀**
- **11₂** = (**1** × **2¹** + **1** × **2⁰**)₁₀ = **3₁₀**

С помощью двух двоичных цифр мы можем хранить числа от **0₁₀** до **3₁₀**. Максимальное количество, которое может быть сохранено, составляет **3₁₀**.

#### 6.2 Емкость памяти 3 бита
Каково максимальное десятичное число, которое мы можем хранить в трехзначном двоичном числе? Вот список двоичных чисел, которые состоят из 3 цифр:

- **000₂** = (**0** × **2²** + **0** × **2¹** + **0** × **2⁰**)₁₀ = **0₁₀**
- **001₂** = (**0** × **2²** + **0** × **2¹** + **1** × **2⁰**)₁₀ = **1₁₀**
- **010₂** = (**0** × **2²** + **1** × **2¹** + **0** × **2⁰**)₁₀ = **2₁₀**
- **011₂** = (**0** × **2²** + **1** × **2¹** + **1** × **2⁰**)₁₀ = **3₁₀**
- **100₂** = (**1** × **2²** + **0** × **2¹** + **0** × **2⁰**)₁₀ = **4₁₀**
- **101₂** = (**1** × **2²** + **0** × **2¹** + **1** × **2⁰**)₁₀ = **5₁₀**
- **110₂** = (**1** × **2²** + **1** × **2¹** + **0** × **2⁰**)₁₀ = **6₁₀**
- **111₂** = (**1** × **2²** + **1** × **2¹** + **1** × **2⁰**)₁₀ = **7₁₀**

Мы можем хранить все числа между **0₁₀** и **7₁₀**, и максимальное десятичное число, которое может быть сохранено на 3 битах, равно **7₁₀**.

#### 6.3 Емкость памяти 8 бит (один байт)
Каково максимальное десятичное число, которое мы можем хранить в восьмизначном двоичном числе? Мы могли бы перечислить все различные двоичные числа, которые можно построить, но это отняло бы много времени. Вы заметили в предыдущих разделах, что максимальное число делается только из единиц? Кажется логичным, что когда двоичное число состоит только из единиц, его десятичное значение будет равно сумме степеней двух (от 0 до **n**), где **n** — количество цифр минус 1. Если в двоичном числе есть одна цифра 0, то степень двух соответствующих чисел не учитывается.

**11111111₂** = (**1** × **2⁷** + **1** × **2⁶** + **1** × **2⁵** + **1** × **2⁴** + **1** × **2³** + **1** × **2²** + **1** × **2¹** + **1** × **2⁰**)₁₀ = **255₁₀**

С помощью 8 бит мы можем хранить все числа между **0₁₀** и **255₁₀**. 8 бит называется байтом. От **0₁₀** до **255₁₀** количество номеров: 256.

### 7. Как хранить изображения, видео,...?
Мы подробно рассказали, как преобразовать десятичное число в двоичное для сохранения в памяти. Надеюсь, это было понятно и увлекательно. Поэтому этого недостаточно. Программы манипулируют гораздо большим количеством вещей, чем цифры.

Мы можем создавать программы, которые используют:

- Изображения
- Тексты
- Видео
- 3D модели
- и т.д.

Как эти объекты хранятся в памяти?

Ответ прост: в итоге даже фото и видео будут храниться с использованием нулей и единиц! Мы преобразуем их в двоичные. Эту работу будут выполнять специализированные программы, называемые кодировщиками. Кодировщик возьмет в качестве входных данных файл в определенном формате и преобразует его в целевой формат. В нашем случае целевой формат — двоичный.

Нам не нужно писать эти программы; все они предоставляются Go. Вы должны понимать, что каждый файл или блок данных хранится под капотом с использованием двоичных цифр (битов).

Двоичное представление просто скрыто от нас.

× Бумажное и цифровое издание этой книги доступны [здесь](#).
Я также снял видеокурс по созданию реального проекта с помощью Go.

### 8. 32 против 64 битных систем
#### 8.1 Программам нужна память
Процессор компьютера отвечает за выполнение программ. Большинству программ необходимо хранить память и получать к ней доступ. Если вы напишете программу, которая будет отображать на экране "42". За кулисами число 42 нужно где-то хранить. Системе также потребуется извлечь его из памяти.

Это делается с помощью системы адресации. Каждый бит информации хранится в определенном месте в блоке памяти, и чтобы получить их, процессор должен иметь возможность получить его полный адрес.

Помните, что существует два типа памяти:

- Центральная память: ПЗУ и ОЗУ
- Вспомогательная память: жесткий диск, USB-ключи...

Здесь мы рассматриваем только центральную память.

#### 8.2 Адрес в памяти — это число
Для процессора адрес — это число. Адрес в памяти подобен почтовому адресу. Он точно определяет точку в пространстве памяти.

Процессоры будут хранить адреса в регистрах. Регистр — это место внутри процессора, где адрес может быть сохранен для последующего использования. Например, предположим, что у нас есть программа, которая выполняет сложение. Наша программа определяет переменную, которая будет хранить первое значение (скажем, 1.234) и другую, которая будет хранить второе значение (скажем, 1.290.999). Когда процессор выполнит нашу программу, ему нужно будет извлечь из памяти значение 1.234 и значение 1.290.999. Процессор сохранит два адреса в своих регистрах.

#### 8.3 Адресуемая память: ограниченный ресурс
Возможности регистров ограничены; они могут хранить адреса определенного размера (записанные в битах). Для 16-разрядного процессора максимальная емкость этих регистров равна... 16 бит. Для 32-битных процессоров максимальная емкость составляет 32 бита. То же самое рассуждение применимо и к 64 битам.

Максимальная емкость регистра определяет, сколько памяти мы можем адресовать.

Почему? Помните, что мы храним адреса в этих регистрах, а адрес — это число:

- На 32 битах мы можем хранить числа от 0 до **4.294.967.295** (≈ **2³²**).
- С помощью 32 бит мы можем хранить 4 миллиарда беззнаковых чисел, 4 миллиарда адресов.
- На 64 битах мы можем хранить числа от 0 до **18.446.744.073.709.551.615** (≈ **2⁶⁴**).

Это делает возможным множество адресов:

- 32 бита = 4 миллиарда адресов
- 64 бита = 18,446,744,073 миллиарда адресов (много адресов :))

#### 8.4 Связь между количеством возможных адресов и объемом оперативной памяти
Оперативная память — это аппаратный компонент, состоящий из ячеек памяти. Биты хранятся в ячейках. В общем, о ОЗУ говорят, что она является байтово-адресуемой. Это означает, что система может получать данные по 8 бит за раз.

Мы видели, что размер адреса памяти ограничен размером регистров.

- 32-разрядная система может обрабатывать только адреса, состоящие из 32 разрядных систем. Каждый бит состоит либо из 0, либо из 1, что делает **2³²** ≈ 4 миллиарда возможностей.

При 4 миллиардах адресов, сколько байт мы можем адресовать?

=> 4 миллиарда байт!

Мы можем перевести это количество в гигабайты.

1 гигабайт = 1 миллиард байт

Итак, 4 миллиарда байт = 4 гигабайта

С 32-битной системой система может получить доступ к 4 гигабайтам памяти. Установка более 4 ГБ оперативной памяти на 32-битную систему бесполезна.

В системах с 64 битами количество адресов значительно больше; следовательно, объем адресуемой памяти больше: теоретически 16 эксабайт (1 эксабайт = **1.073.741.824** гигабайт).

Как следствие, теоретически 16 эксабайт — это максимальный объем оперативной памяти, который можно адресовать на компьютере с 64 битами.

### 9. Проверьте себя
#### 9.1 Вопросы
- Что такое бит?
- Что такое байт?
- Что такое кодировщик?
- Каков максимальный объем оперативной памяти, который может быть адресован 32-разрядной системой?
- Что такое десятичный вариант **001₂**?

#### 9.2 Ответы
- **Что такое бит?**
  - Это аббревиатура от Binary Digit (двоичная цифра).
  - Это либо 0, либо 1.

- **Что такое байт?**
  - Байт равен 8 битам.

- **Что такое кодировщик?**
  - Кодировщик принимает входные данные в заданном формате и преобразует их в другую форму.
  - Процесс обратим.

- **Каков максимальный объем оперативной памяти, который может быть адресован 32-разрядной системой?**
  - 4 ГБ.

- **Что такое десятичный вариант **001₂**?**
  - **1₁₀**.

### 10. Ключевые выводы
- Цифры обозначают числа.
- Каждая система нумерации имеет свой способ представления чисел.
- 100 может быть числом, записанным в двоичной и десятичной дроби. Он не представляет собой одно и то же число/количество!
- На физическом уровне данные хранятся в памяти с помощью двоичных цифр (0 и 1).
- Бит — одна двоичная цифра.
- Байт состоит из восьми бит.
- 64-разрядная система может адресовать гораздо больший объем памяти, чем 32-разрядная система.
